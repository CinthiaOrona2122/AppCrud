@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model List<AppCrud.Models.Empleado>;

    <div class="row">
        <div class="col-sm-10 offset-sm-2">
            <h2>Lista Empleados</h2>
        <div class="mb-3">
            <!-- Boton para redirigir al formulario -->
            <a asp-controller="Empleado" asp-action="Nuevo" class="btn btn-success mb-3">Nuevo</a>
        </div>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Nombre Completo</th>                     
                        <th>Correo</th>
                        <th>Fecha de Contrato</th>
                        <th>Activo</th>
                        <th>Acciones</th>
                </thead>
                <tbody>
                    <!-- Representacion de la lista-->
                @foreach (var item in Model)
                {
                    <tr>
                        <!-- el es cada vez que utilizamos codigo de C# -->
                        <td>@item.IdEmpleado</td>
                        <td>@item.NombreCompleto</td>
                        <td>@item.Correo</td>
                        <td>@item.FechaContrato.ToString("dd/MM/yyyy")</td>
                        <td>@(item.Activo ? "SI" : "NO")</td>
                        <td>
                            <!-- asp-action es un controlador -->
                            <a asp-controller="Empleado" asp-action="Editar" asp-route-id="@item.IdEmpleado" class="btn btn-primary">Editar</a>
                            <a asp-controller="Empleado" asp-action="Detalle" asp-route-id="@item.IdEmpleado" class="btn btn-warning">Detalle</a>
                            <a asp-controller="Empleado" asp-action="Eliminar" asp-route-id="@item.IdEmpleado" class="btn btn-danger" onclick="return confirmar()">Eliminar</a>
                        </td></tr>
                }
            </tbody>
    
</table>
        </div>
    </div>

                            @section Scripts {
                                <script>
                                    //Si cancela, no se ejecuta el método del controlador.
                                    function confirmar(){
                                        return confirm("Está seguro que desea eliminar el empleado?");
                                    }
                                    
                                </script>
                            }